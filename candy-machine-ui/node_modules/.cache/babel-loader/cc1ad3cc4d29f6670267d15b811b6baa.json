{"ast":null,"code":"import _defineProperty from \"/workspace/0x2Hacks.github.io/candy-machine-ui/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _inherits from \"/workspace/0x2Hacks.github.io/candy-machine-ui/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/workspace/0x2Hacks.github.io/candy-machine-ui/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport _slicedToArray from \"/workspace/0x2Hacks.github.io/candy-machine-ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _classCallCheck from \"/workspace/0x2Hacks.github.io/candy-machine-ui/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/workspace/0x2Hacks.github.io/candy-machine-ui/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _regeneratorRuntime from \"/workspace/0x2Hacks.github.io/candy-machine-ui/node_modules/@babel/runtime/regenerator/index.js\";\nimport { getPublic, sign, encrypt as _encrypt, decrypt as _decrypt } from '@toruslabs/eccrypto';\nimport { post } from '@toruslabs/http-helpers';\nimport { setupMultiplex, PostMessageStream, SafeEventEmitter, createStreamMiddleware, JRPCEngine, createIdRemapMiddleware, getRpcPromiseCallback } from '@toruslabs/openlogin-jrpc';\nimport { base64url, keccak, safeatob, randomId, jsonToBase64 } from '@toruslabs/openlogin-utils';\nimport merge from 'lodash.merge';\nimport pump from 'pump';\nvar modalDOMElementID = \"openlogin-modal\";\nvar storeKey = \"openlogin_store\";\nvar UX_MODE = {\n  POPUP: \"popup\",\n  REDIRECT: \"redirect\"\n};\nvar OPENLOGIN_METHOD = {\n  LOGIN: \"openlogin_login\",\n  LOGOUT: \"openlogin_logout\",\n  CHECK_3PC_SUPPORT: \"openlogin_check_3PC_support\",\n  SET_PID_DATA: \"openlogin_set_pid_data\",\n  GET_DATA: \"openlogin_get_data\"\n};\nvar ALLOWED_INTERACTIONS = {\n  POPUP: \"popup\",\n  REDIRECT: \"redirect\",\n  JRPC: \"jrpc\"\n};\nvar OPENLOGIN_NETWORK = {\n  MAINNET: \"mainnet\",\n  TESTNET: \"testnet\",\n  DEVELOPMENT: \"development\"\n};\nvar LOGIN_PROVIDER = {\n  GOOGLE: \"google\",\n  FACEBOOK: \"facebook\",\n  REDDIT: \"reddit\",\n  DISCORD: \"discord\",\n  TWITCH: \"twitch\",\n  APPLE: \"apple\",\n  LINE: \"line\",\n  GITHUB: \"github\",\n  KAKAO: \"kakao\",\n  LINKEDIN: \"linkedin\",\n  TWITTER: \"twitter\",\n  WEIBO: \"weibo\",\n  WECHAT: \"wechat\",\n  EMAIL_PASSWORDLESS: \"email_passwordless\",\n  WEBAUTHN: \"webauthn\",\n  JWT: \"jwt\"\n};\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\n\nfunction __awaiter(thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\n\nfunction documentReady() {\n  return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            return _context.abrupt(\"return\", new Promise(function (resolve) {\n              if (document.readyState !== \"loading\") {\n                resolve();\n              } else {\n                document.addEventListener(\"DOMContentLoaded\", function () {\n                  resolve();\n                });\n              }\n            }));\n\n          case 1:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n}\n\nvar htmlToElement = function htmlToElement(html) {\n  var template = window.document.createElement(\"template\");\n  var trimmedHtml = html.trim(); // Never return a text node of whitespace as the result\n\n  template.innerHTML = trimmedHtml;\n  return template.content.firstChild;\n};\n\nfunction whitelistUrl(clientId, appKey, origin) {\n  return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n    var appKeyBuf, sig;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            appKeyBuf = Buffer.from(appKey.padStart(64, \"0\"), \"hex\");\n\n            if (!(base64url.encode(getPublic(appKeyBuf)) !== clientId)) {\n              _context2.next = 3;\n              break;\n            }\n\n            throw new Error(\"appKey mismatch\");\n\n          case 3:\n            _context2.next = 5;\n            return sign(appKeyBuf, Buffer.from(keccak(\"keccak256\").update(origin).digest(\"hex\"), \"hex\"));\n\n          case 5:\n            sig = _context2.sent;\n            return _context2.abrupt(\"return\", base64url.encode(sig));\n\n          case 7:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n}\n\nfunction getHashQueryParams() {\n  var replaceUrl = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n  var result = {};\n  var url = new URL(window.location.href);\n  url.searchParams.forEach(function (value, key) {\n    if (key !== \"result\") {\n      result[key] = value;\n    }\n  });\n  var queryResult = url.searchParams.get(\"result\");\n\n  if (queryResult) {\n    try {\n      var queryParams = JSON.parse(safeatob(queryResult));\n      Object.keys(queryParams).forEach(function (key) {\n        result[key] = queryParams[key];\n      });\n    } catch (error) {\n      window.console.error(error);\n    }\n  }\n\n  var hash = url.hash.substr(1);\n  var hashUrl = new URL(\"\".concat(window.location.origin, \"/?\").concat(hash));\n  hashUrl.searchParams.forEach(function (value, key) {\n    if (key !== \"result\") {\n      result[key] = value;\n    }\n  });\n  var hashResult = hashUrl.searchParams.get(\"result\");\n\n  if (hashResult) {\n    try {\n      var hashParams = JSON.parse(safeatob(hashResult));\n      Object.keys(hashParams).forEach(function (key) {\n        result[key] = hashParams[key];\n      });\n    } catch (error) {\n      window.console.error(error);\n    }\n  }\n\n  if (replaceUrl) {\n    var cleanUrl = window.location.origin + window.location.pathname;\n    window.history.replaceState(null, \"\", cleanUrl);\n  }\n\n  return result;\n}\n\nfunction awaitReq(id, windowRef) {\n  return new Promise(function (resolve, reject) {\n    if (!windowRef) reject(new Error(\"Unable to open window\"));\n    var closedByHandler = false;\n    var closedMonitor = setInterval(function () {\n      if (!closedByHandler && windowRef.closed) {\n        clearInterval(closedMonitor);\n        reject(new Error(\"user closed popup\"));\n      }\n    }, 500);\n\n    var handler = function handler(ev) {\n      var pid = ev.data.pid;\n      if (id !== pid) return;\n      window.removeEventListener(\"message\", handler);\n      closedByHandler = true;\n      clearInterval(closedMonitor);\n      windowRef.close();\n\n      if (ev.data.data && ev.data.data.error) {\n        reject(new Error(ev.data.data.error));\n      } else {\n        resolve(ev.data.data);\n      }\n    };\n\n    window.addEventListener(\"message\", handler);\n  });\n}\n\nfunction constructURL(params) {\n  var baseURL = params.baseURL,\n      query = params.query,\n      hash = params.hash;\n  var url = new URL(baseURL);\n\n  if (query) {\n    Object.keys(query).forEach(function (key) {\n      url.searchParams.append(key, query[key]);\n    });\n  }\n\n  if (hash) {\n    var h = new URL(constructURL({\n      baseURL: baseURL,\n      query: hash\n    })).searchParams.toString();\n    url.hash = h;\n  }\n\n  return url.toString();\n}\n\nfunction storageAvailable(type) {\n  var storageExists = false;\n  var storageLength = 0;\n  var storage;\n\n  try {\n    storage = window[type];\n    storageExists = true;\n    storageLength = storage.length;\n    var x = \"__storage_test__\";\n    storage.setItem(x, x);\n    storage.removeItem(x);\n    return true;\n  } catch (error) {\n    return error && ( // everything except Firefox\n    error.code === 22 || // Firefox\n    error.code === 1014 || // test name field too, because code might not be present\n    // everything except Firefox\n    error.name === \"QuotaExceededErro r\" || // Firefox\n    error.name === \"NS_ERROR_DOM_QUOTA_REACHED\") && // acknowledge QuotaExceededError only if there's something already stored\n    storageExists && storageLength !== 0;\n  }\n}\n\nvar sessionStorageAvailable = storageAvailable(\"sessionStorage\");\nvar localStorageAvailable = storageAvailable(\"localStorage\");\n\nfunction preloadIframe(url) {\n  try {\n    var openloginIframeHtml = document.createElement(\"link\");\n    openloginIframeHtml.href = url;\n    openloginIframeHtml.crossOrigin = \"anonymous\";\n    openloginIframeHtml.type = \"text/html\";\n    openloginIframeHtml.rel = \"prefetch\";\n\n    if (openloginIframeHtml.relList && openloginIframeHtml.relList.supports) {\n      if (openloginIframeHtml.relList.supports(\"prefetch\")) {\n        document.head.appendChild(openloginIframeHtml);\n      }\n    }\n  } catch (error) {\n    window.console.error(error);\n  }\n}\n\nfunction getPopupFeatures() {\n  // Fixes dual-screen position                             Most browsers      Firefox\n  var dualScreenLeft = window.screenLeft !== undefined ? window.screenLeft : window.screenX;\n  var dualScreenTop = window.screenTop !== undefined ? window.screenTop : window.screenY;\n  var w = 1200;\n  var h = 700;\n  var width = window.innerWidth ? window.innerWidth : document.documentElement.clientWidth ? document.documentElement.clientWidth : window.screen.width;\n  var height = window.innerHeight ? window.innerHeight : document.documentElement.clientHeight ? document.documentElement.clientHeight : window.screen.height;\n  var systemZoom = 1; // No reliable estimate\n\n  var left = Math.abs((width - w) / 2 / systemZoom + dualScreenLeft);\n  var top = Math.abs((height - h) / 2 / systemZoom + dualScreenTop);\n  var features = \"titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=\".concat(h / systemZoom, \",width=\").concat(w / systemZoom, \",top=\").concat(top, \",left=\").concat(left);\n  return features;\n}\n\nvar handleStream = function handleStream(handle, eventName, handler) {\n  var handlerWrapper = function handlerWrapper(chunk) {\n    handler(chunk);\n    handle.removeListener(eventName, handlerWrapper);\n  };\n\n  handle.on(eventName, handlerWrapper);\n};\n\nvar Modal = /*#__PURE__*/function () {\n  function Modal(modalUrl) {\n    _classCallCheck(this, Modal);\n\n    this.initialized = false;\n    this.modalZIndex = 99999;\n    this.modalUrl = modalUrl;\n  }\n\n  _createClass(Modal, [{\n    key: \"init\",\n    value: function init() {\n      return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return this.initIFrame(this.modalUrl);\n\n              case 2:\n                this.setupStream();\n\n              case 3:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n    }\n  }, {\n    key: \"setupStream\",\n    value: function setupStream() {\n      if (this.iframeElem === null) throw new Error(\"iframe is null\");\n      this.mux = setupMultiplex(new PostMessageStream({\n        name: \"modal_iframe_rpc\",\n        target: \"modal_rpc\",\n        targetWindow: this.iframeElem.contentWindow,\n        targetOrigin: new URL(this.modalUrl).origin\n      }));\n      this.verifierStream = this.mux.createStream(\"verifier\");\n    }\n  }, {\n    key: \"initIFrame\",\n    value: function initIFrame(src) {\n      return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n        var _this = this;\n\n        var documentIFrameElem;\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return documentReady();\n\n              case 2:\n                documentIFrameElem = document.getElementById(modalDOMElementID);\n\n                if (documentIFrameElem) {\n                  documentIFrameElem.remove();\n                  window.console.log(\"already initialized, removing previous modal iframe\");\n                }\n\n                this.iframeElem = htmlToElement(\"<iframe\\n        id=\".concat(modalDOMElementID, \"\\n        class=\\\"torusIframe\\\"\\n        src=\\\"\").concat(src, \"\\\"\\n        style=\\\"display: none; position: fixed; top: 0; right: 0; width: 100%;\\n        height: 100%; border: none; border-radius: 0; z-index: \").concat(this.modalZIndex.toString(), \"\\\"\\n      ></iframe>\"));\n\n                this._hideModal();\n\n                document.body.appendChild(this.iframeElem);\n                return _context4.abrupt(\"return\", new Promise(function (resolve) {\n                  _this.iframeElem.onload = function () {\n                    _this.initialized = true;\n                    resolve();\n                  };\n                }));\n\n              case 8:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n    }\n  }, {\n    key: \"_showModal\",\n    value: function _showModal() {\n      var style = {};\n      style.display = \"block\";\n      style.position = \"fixed\";\n      style.width = \"100%\";\n      style.height = \"100%\";\n      style.top = \"0px\";\n      style.right = \"0px\";\n      style.left = \"0px\";\n      style.bottom = \"0px\";\n      style.border = \"0\";\n      style[\"z-index\"] = this.modalZIndex;\n      this.iframeElem.setAttribute(\"style\", Object.entries(style).map(function (_ref) {\n        var _ref2 = _slicedToArray(_ref, 2),\n            k = _ref2[0],\n            v = _ref2[1];\n\n        return \"\".concat(k, \":\").concat(v);\n      }).join(\";\"));\n    }\n  }, {\n    key: \"_hideModal\",\n    value: function _hideModal() {\n      var style = {};\n      style.display = \"none\";\n      style.position = \"fixed\";\n      style.width = \"100%\";\n      style.height = \"100%\";\n      style.top = \"0px\";\n      style.right = \"0px\";\n      style.left = \"0px\";\n      style.bottom = \"0px\";\n      style.border = \"0\";\n      style[\"z-index\"] = this.modalZIndex;\n      this.iframeElem.setAttribute(\"style\", Object.entries(style).map(function (_ref3) {\n        var _ref4 = _slicedToArray(_ref3, 2),\n            k = _ref4[0],\n            v = _ref4[1];\n\n        return \"\".concat(k, \":\").concat(v);\n      }).join(\";\"));\n    }\n  }, {\n    key: \"_prompt\",\n    value: function _prompt(clientId, whiteLabel, loginConfig, cb) {\n      return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee5() {\n        var _this2 = this;\n\n        var modalHandler;\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                this._showModal();\n\n                modalHandler = function modalHandler(chunk) {\n                  _this2._hideModal();\n\n                  cb(chunk);\n                };\n\n                handleStream(this.verifierStream, \"data\", modalHandler);\n                this.verifierStream.write({\n                  name: \"prompt\",\n                  clientId: clientId,\n                  whiteLabel: whiteLabel,\n                  loginConfig: loginConfig\n                });\n\n              case 4:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n    }\n  }, {\n    key: \"cleanup\",\n    value: function cleanup() {\n      return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee6() {\n        var documentIFrameElem;\n        return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _context6.next = 2;\n                return documentReady();\n\n              case 2:\n                documentIFrameElem = document.getElementById(modalDOMElementID);\n\n                if (documentIFrameElem) {\n                  documentIFrameElem.remove();\n                  this.iframeElem = null;\n                }\n\n                this.initialized = false;\n\n              case 5:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n    }\n  }]);\n\n  return Modal;\n}();\n\nvar MemoryStore = /*#__PURE__*/function () {\n  function MemoryStore() {\n    _classCallCheck(this, MemoryStore);\n\n    this.store = {};\n  }\n\n  _createClass(MemoryStore, [{\n    key: \"getItem\",\n    value: function getItem(key) {\n      return this.store[key];\n    }\n  }, {\n    key: \"setItem\",\n    value: function setItem(key, value) {\n      this.store[key] = value;\n    }\n  }]);\n\n  return MemoryStore;\n}();\n\nvar OpenLoginStore = /*#__PURE__*/function () {\n  function OpenLoginStore(storage) {\n    _classCallCheck(this, OpenLoginStore);\n\n    this.storage = storage;\n\n    try {\n      if (!storage.getItem(storeKey)) {\n        this.resetStore();\n      }\n    } catch (error) {// Storage is not available\n    }\n  }\n\n  _createClass(OpenLoginStore, [{\n    key: \"toJSON\",\n    value: function toJSON() {\n      return this.storage.getItem(storeKey);\n    }\n  }, {\n    key: \"resetStore\",\n    value: function resetStore() {\n      var currStore = this.getStore();\n      this.storage.setItem(storeKey, JSON.stringify({}));\n      return currStore;\n    }\n  }, {\n    key: \"getStore\",\n    value: function getStore() {\n      return JSON.parse(this.storage.getItem(storeKey));\n    }\n  }, {\n    key: \"get\",\n    value: function get(key) {\n      var store = JSON.parse(this.storage.getItem(storeKey));\n      return store[key];\n    }\n  }, {\n    key: \"set\",\n    value: function set(key, value) {\n      var store = JSON.parse(this.storage.getItem(storeKey));\n      store[key] = value;\n      this.storage.setItem(storeKey, JSON.stringify(store));\n    }\n  }], [{\n    key: \"getInstance\",\n    value: function getInstance() {\n      if (!this.instance) {\n        this.instance = new this(localStorageAvailable ? localStorage : new MemoryStore());\n      }\n\n      return this.instance;\n    }\n  }]);\n\n  return OpenLoginStore;\n}();\n\nvar Provider = /*#__PURE__*/function (_SafeEventEmitter) {\n  _inherits(Provider, _SafeEventEmitter);\n\n  var _super = _createSuper(Provider);\n\n  function Provider() {\n    var _this3;\n\n    _classCallCheck(this, Provider);\n\n    _this3 = _super.apply(this, arguments);\n    _this3.iframeElem = null;\n    return _this3;\n  }\n\n  _createClass(Provider, [{\n    key: \"init\",\n    value: function init(_ref5) {\n      var iframeElem = _ref5.iframeElem,\n          iframeUrl = _ref5.iframeUrl;\n      this.iframeElem = iframeElem;\n      this.iframeUrl = iframeUrl;\n      this.setupStream();\n      this.initialized = true;\n    }\n  }, {\n    key: \"setupStream\",\n    value: function setupStream() {\n      if (this.iframeElem === null) throw new Error(\"iframe is null\");\n      this.rpcStream = new PostMessageStream({\n        name: \"embed_rpc\",\n        target: \"iframe_rpc\",\n        targetWindow: this.iframeElem.contentWindow,\n        targetOrigin: new URL(this.iframeUrl).origin\n      });\n      this.mux = setupMultiplex(this.rpcStream);\n      var JRPCConnection = createStreamMiddleware();\n      pump(JRPCConnection.stream, this.mux.createStream(\"jrpc\"), JRPCConnection.stream, function (error) {\n        window.console.log(\"JRPC connection broken\", error);\n      });\n      var rpcEngine = new JRPCEngine();\n      rpcEngine.push(createIdRemapMiddleware());\n      rpcEngine.push(JRPCConnection.middleware);\n      this.rpcEngine = rpcEngine;\n    }\n  }, {\n    key: \"cleanup\",\n    value: function cleanup() {\n      this.iframeElem = null;\n      this.initialized = false;\n    }\n  }, {\n    key: \"_rpcRequest\",\n    value: function _rpcRequest(payload, callback) {\n      if (!payload.jsonrpc) {\n        payload.jsonrpc = \"2.0\";\n      }\n\n      if (!payload.id) {\n        payload.id = randomId();\n      }\n\n      this.rpcEngine.handle(payload, callback);\n    }\n  }]);\n\n  return Provider;\n}(SafeEventEmitter);\n\npreloadIframe(\"https://app.openlogin.com/sdk-modal\");\n\nvar OpenLogin = /*#__PURE__*/function () {\n  function OpenLogin(options) {\n    _classCallCheck(this, OpenLogin);\n\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j;\n\n    this.provider = new Proxy(new Provider(), {\n      deleteProperty: function deleteProperty() {\n        return true;\n      } // work around for web3\n\n    });\n\n    if (!options._iframeUrl) {\n      if (options.network === OPENLOGIN_NETWORK.MAINNET) {\n        options._iframeUrl = \"https://app.openlogin.com\";\n      } else if (options.network === OPENLOGIN_NETWORK.TESTNET) {\n        options._iframeUrl = \"https://beta.openlogin.com\";\n      } else if (options.network === OPENLOGIN_NETWORK.DEVELOPMENT) {\n        options._iframeUrl = \"http://localhost:3000\";\n      }\n    }\n\n    if (!options._iframeUrl) {\n      throw new Error(\"unspecified network and iframeUrl\");\n    }\n\n    this.modal = new Modal(\"\".concat(options._iframeUrl, \"/sdk-modal\"));\n    this.initState(Object.assign(Object.assign({}, options), {\n      no3PC: (_a = options.no3PC) !== null && _a !== void 0 ? _a : false,\n      _iframeUrl: options._iframeUrl,\n      _startUrl: (_b = options._startUrl) !== null && _b !== void 0 ? _b : \"\".concat(options._iframeUrl, \"/start\"),\n      _popupUrl: (_c = options._popupUrl) !== null && _c !== void 0 ? _c : \"\".concat(options._iframeUrl, \"/popup-window\"),\n      redirectUrl: (_d = options.redirectUrl) !== null && _d !== void 0 ? _d : \"\".concat(window.location.protocol, \"//\").concat(window.location.host).concat(window.location.pathname),\n      uxMode: (_e = options.uxMode) !== null && _e !== void 0 ? _e : UX_MODE.REDIRECT,\n      replaceUrlOnRedirect: (_f = options.replaceUrlOnRedirect) !== null && _f !== void 0 ? _f : true,\n      originData: (_g = options.originData) !== null && _g !== void 0 ? _g : _defineProperty({}, window.location.origin, \"\"),\n      whiteLabel: (_h = options.whiteLabel) !== null && _h !== void 0 ? _h : {},\n      loginConfig: (_j = options.loginConfig) !== null && _j !== void 0 ? _j : {}\n    }));\n  }\n\n  _createClass(OpenLogin, [{\n    key: \"privKey\",\n    get: function get() {\n      return this.state.privKey ? this.state.privKey.padStart(64, \"0\") : \"\";\n    }\n  }, {\n    key: \"initState\",\n    value: function initState(options) {\n      this.state = {\n        uxMode: options.uxMode,\n        network: options.network,\n        store: OpenLoginStore.getInstance(),\n        iframeUrl: options._iframeUrl,\n        startUrl: options._startUrl,\n        popupUrl: options._popupUrl,\n        clientId: options.clientId,\n        redirectUrl: options.redirectUrl,\n        replaceUrlOnRedirect: options.replaceUrlOnRedirect,\n        originData: options.originData,\n        loginConfig: options.loginConfig,\n        support3PC: !options.no3PC,\n        whiteLabel: options.whiteLabel\n      };\n    }\n  }, {\n    key: \"init\",\n    value: function init() {\n      return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee7() {\n        var res;\n        return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                if (!this.state.support3PC) {\n                  _context7.next = 17;\n                  break;\n                }\n\n                _context7.next = 3;\n                return Promise.all([this.modal.init(), this.updateOriginData()]);\n\n              case 3:\n                this.provider.init({\n                  iframeElem: this.modal.iframeElem,\n                  iframeUrl: this.state.iframeUrl\n                });\n\n                this._syncState(getHashQueryParams(this.state.replaceUrlOnRedirect));\n\n                _context7.next = 7;\n                return this._check3PCSupport();\n\n              case 7:\n                res = _context7.sent;\n                this.state.support3PC = !!res.support3PC;\n\n                if (!this.state.support3PC) {\n                  _context7.next = 15;\n                  break;\n                }\n\n                _context7.t0 = this;\n                _context7.next = 13;\n                return this._getData();\n\n              case 13:\n                _context7.t1 = _context7.sent;\n\n                _context7.t0._syncState.call(_context7.t0, _context7.t1);\n\n              case 15:\n                _context7.next = 20;\n                break;\n\n              case 17:\n                _context7.next = 19;\n                return this.updateOriginData();\n\n              case 19:\n                this._syncState(getHashQueryParams(this.state.replaceUrlOnRedirect));\n\n              case 20:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this);\n      }));\n    }\n  }, {\n    key: \"updateOriginData\",\n    value: function updateOriginData() {\n      return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee8() {\n        var filteredOriginData, _yield$Promise$all, _yield$Promise$all2, whitelist, whiteLabel;\n\n        return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                filteredOriginData = JSON.parse(JSON.stringify(this.state.originData));\n                Object.keys(filteredOriginData).forEach(function (key) {\n                  if (filteredOriginData[key] === \"\") delete filteredOriginData[key];\n                });\n                _context8.next = 4;\n                return Promise.all([this.getWhitelist(), this.getWhiteLabel()]);\n\n              case 4:\n                _yield$Promise$all = _context8.sent;\n                _yield$Promise$all2 = _slicedToArray(_yield$Promise$all, 2);\n                whitelist = _yield$Promise$all2[0];\n                whiteLabel = _yield$Promise$all2[1];\n\n                this._syncState({\n                  originData: Object.assign(Object.assign({}, whitelist), filteredOriginData),\n                  whiteLabel: Object.assign(Object.assign({}, whiteLabel), this.state.whiteLabel)\n                });\n\n              case 9:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8, this);\n      }));\n    }\n  }, {\n    key: \"getWhitelist\",\n    value: function getWhitelist() {\n      return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee9() {\n        var clientId, res;\n        return _regeneratorRuntime.wrap(function _callee9$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                _context9.prev = 0;\n                clientId = this.state.clientId;\n\n                if (clientId) {\n                  _context9.next = 4;\n                  break;\n                }\n\n                throw new Error(\"unspecified clientId\");\n\n              case 4:\n                _context9.next = 6;\n                return post(\"https://api.developer.tor.us/whitelist\", {\n                  project_id: this.state.clientId\n                });\n\n              case 6:\n                res = _context9.sent;\n                return _context9.abrupt(\"return\", res.signed_urls);\n\n              case 10:\n                _context9.prev = 10;\n                _context9.t0 = _context9[\"catch\"](0);\n                return _context9.abrupt(\"return\", {});\n\n              case 13:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee9, this, [[0, 10]]);\n      }));\n    }\n  }, {\n    key: \"getWhiteLabel\",\n    value: function getWhiteLabel() {\n      return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee10() {\n        var clientId, res;\n        return _regeneratorRuntime.wrap(function _callee10$(_context10) {\n          while (1) {\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                _context10.prev = 0;\n                clientId = this.state.clientId;\n\n                if (clientId) {\n                  _context10.next = 4;\n                  break;\n                }\n\n                throw new Error(\"unspecified clientId\");\n\n              case 4:\n                _context10.next = 6;\n                return post(\"https://api.developer.tor.us/whitelabel\", {\n                  project_id: this.state.clientId\n                });\n\n              case 6:\n                res = _context10.sent;\n                return _context10.abrupt(\"return\", res.whiteLabel);\n\n              case 10:\n                _context10.prev = 10;\n                _context10.t0 = _context10[\"catch\"](0);\n                return _context10.abrupt(\"return\", {});\n\n              case 13:\n              case \"end\":\n                return _context10.stop();\n            }\n          }\n        }, _callee10, this, [[0, 10]]);\n      }));\n    }\n  }, {\n    key: \"_fastLogin\",\n    value: function _fastLogin(params) {\n      return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee11() {\n        var defaultParams, loginParams, res;\n        return _regeneratorRuntime.wrap(function _callee11$(_context11) {\n          while (1) {\n            switch (_context11.prev = _context11.next) {\n              case 0:\n                defaultParams = {\n                  redirectUrl: this.state.redirectUrl\n                };\n                loginParams = Object.assign(Object.assign({}, defaultParams), params);\n                _context11.next = 4;\n                return this.request({\n                  params: [Object.assign(Object.assign({}, loginParams), {\n                    fastLogin: true\n                  })],\n                  method: OPENLOGIN_METHOD.LOGIN,\n                  startUrl: this.state.startUrl,\n                  popupUrl: this.state.popupUrl,\n                  allowedInteractions: [ALLOWED_INTERACTIONS.POPUP, ALLOWED_INTERACTIONS.REDIRECT]\n                });\n\n              case 4:\n                res = _context11.sent;\n                this.state.privKey = res.privKey;\n                return _context11.abrupt(\"return\", res);\n\n              case 7:\n              case \"end\":\n                return _context11.stop();\n            }\n          }\n        }, _callee11, this);\n      }));\n    }\n  }, {\n    key: \"login\",\n    value: function login(params) {\n      return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee12() {\n        return _regeneratorRuntime.wrap(function _callee12$(_context12) {\n          while (1) {\n            switch (_context12.prev = _context12.next) {\n              case 0:\n                if (!(params === null || params === void 0 ? void 0 : params.loginProvider)) {\n                  _context12.next = 2;\n                  break;\n                }\n\n                return _context12.abrupt(\"return\", this._selectedLogin(params));\n\n              case 2:\n                return _context12.abrupt(\"return\", this._modal(params));\n\n              case 3:\n              case \"end\":\n                return _context12.stop();\n            }\n          }\n        }, _callee12, this);\n      }));\n    }\n  }, {\n    key: \"_selectedLogin\",\n    value: function _selectedLogin(params) {\n      return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee13() {\n        var defaultParams, loginParams, res;\n        return _regeneratorRuntime.wrap(function _callee13$(_context13) {\n          while (1) {\n            switch (_context13.prev = _context13.next) {\n              case 0:\n                defaultParams = {\n                  redirectUrl: this.state.redirectUrl\n                };\n                loginParams = Object.assign(Object.assign({\n                  loginProvider: params.loginProvider\n                }, defaultParams), params); // fast login flow\n                // if (this.state.store.get(\"touchIDPreference\") === \"enabled\" && !loginParams.extraLoginOptions?.login_hint) {\n                //   return this._fastLogin(loginParams);\n                // }\n\n                _context13.next = 4;\n                return this.request({\n                  method: OPENLOGIN_METHOD.LOGIN,\n                  allowedInteractions: [UX_MODE.REDIRECT, UX_MODE.POPUP],\n                  startUrl: this.state.startUrl,\n                  popupUrl: this.state.popupUrl,\n                  params: [loginParams]\n                });\n\n              case 4:\n                res = _context13.sent;\n                this.state.privKey = res.privKey;\n                return _context13.abrupt(\"return\", {\n                  privKey: this.privKey\n                });\n\n              case 7:\n              case \"end\":\n                return _context13.stop();\n            }\n          }\n        }, _callee13, this);\n      }));\n    }\n  }, {\n    key: \"logout\",\n    value: function logout() {\n      var logoutParams = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee14() {\n        var params, res;\n        return _regeneratorRuntime.wrap(function _callee14$(_context14) {\n          while (1) {\n            switch (_context14.prev = _context14.next) {\n              case 0:\n                params = {}; // defaults\n\n                params.redirectUrl = this.state.redirectUrl;\n                params._clientId = this.state.clientId;\n\n                if (logoutParams.clientId) {\n                  params._clientId = logoutParams.clientId;\n                }\n\n                if (logoutParams.fastLogin !== undefined) {\n                  params.fastLogin = logoutParams.fastLogin;\n                }\n\n                if (logoutParams.redirectUrl !== undefined) {\n                  params.redirectUrl = logoutParams.redirectUrl;\n                }\n\n                _context14.next = 8;\n                return this.request({\n                  method: OPENLOGIN_METHOD.LOGOUT,\n                  params: [params],\n                  startUrl: this.state.startUrl,\n                  popupUrl: this.state.popupUrl,\n                  allowedInteractions: [ALLOWED_INTERACTIONS.JRPC, ALLOWED_INTERACTIONS.POPUP, ALLOWED_INTERACTIONS.REDIRECT]\n                });\n\n              case 8:\n                res = _context14.sent;\n                this.state.privKey = \"\"; // if (!params.fastLogin) this.state.store.set(\"touchIDPreference\", \"disabled\");\n\n                return _context14.abrupt(\"return\", res);\n\n              case 11:\n              case \"end\":\n                return _context14.stop();\n            }\n          }\n        }, _callee14, this);\n      }));\n    }\n  }, {\n    key: \"request\",\n    value: function request(args) {\n      var _a;\n\n      return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee15() {\n        var pid, params, session, startUrl, popupUrl, method, allowedInteractions, userData, sig, u, windowRef, _u, _windowRef;\n\n        return _regeneratorRuntime.wrap(function _callee15$(_context15) {\n          while (1) {\n            switch (_context15.prev = _context15.next) {\n              case 0:\n                pid = randomId();\n                params = args.params; // Note: _origin is added later in postMessageStream for jrpc requests\n                // do not add it here since its used for checking postMessage constraints\n\n                session = {};\n\n                if (!(params.length !== 1)) {\n                  _context15.next = 5;\n                  break;\n                }\n\n                throw new Error(\"request params array should have only one element\");\n\n              case 5:\n                startUrl = args.startUrl, popupUrl = args.popupUrl, method = args.method, allowedInteractions = args.allowedInteractions;\n\n                if (!(allowedInteractions.length === 0)) {\n                  _context15.next = 8;\n                  break;\n                }\n\n                throw new Error(\"no allowed interactions\");\n\n              case 8:\n                if (this.state.clientId) {\n                  session._clientId = this.state.clientId;\n                }\n\n                if (!this.privKey) {\n                  _context15.next = 17;\n                  break;\n                }\n\n                userData = {\n                  clientId: session._clientId,\n                  timestamp: Date.now().toString()\n                };\n                _context15.next = 13;\n                return sign(Buffer.from(this.privKey, \"hex\"), Buffer.from(keccak(\"keccak256\").update(JSON.stringify(userData)).digest(\"hex\"), \"hex\"));\n\n              case 13:\n                sig = _context15.sent;\n                session._user = getPublic(Buffer.from(this.privKey, \"hex\")).toString(\"hex\");\n                session._userSig = base64url.encode(sig);\n                session._userData = userData;\n\n              case 17:\n                session._originData = this.state.originData;\n                session._whiteLabelData = this.state.whiteLabel;\n                session._loginConfig = this.state.loginConfig; // add in session data (allow overrides)\n\n                params = [Object.assign(Object.assign({}, session), params[0])]; // use JRPC where possible\n\n                if (!(this.state.support3PC && allowedInteractions.includes(ALLOWED_INTERACTIONS.JRPC))) {\n                  _context15.next = 23;\n                  break;\n                }\n\n                return _context15.abrupt(\"return\", this._jrpcRequest({\n                  method: method,\n                  params: params\n                }));\n\n              case 23:\n                // set origin\n                params[0]._origin = new URL((_a = params[0].redirectUrl) !== null && _a !== void 0 ? _a : this.state.redirectUrl).origin; // preset params\n\n                if (!this.state.support3PC) {\n                  _context15.next = 28;\n                  break;\n                }\n\n                _context15.next = 27;\n                return this._setPIDData(pid, params);\n\n              case 27:\n                // eslint-disable-next-line require-atomic-updates\n                params = [{}];\n\n              case 28:\n                if (!(!startUrl || !popupUrl)) {\n                  _context15.next = 30;\n                  break;\n                }\n\n                throw new Error(\"no url for redirect / popup flow\");\n\n              case 30:\n                if (!(this.state.uxMode === UX_MODE.REDIRECT)) {\n                  _context15.next = 40;\n                  break;\n                }\n\n                if (!allowedInteractions.includes(ALLOWED_INTERACTIONS.REDIRECT)) {\n                  _context15.next = 34;\n                  break;\n                }\n\n                // give time for synchronous methods to complete before redirect\n                setTimeout(function () {\n                  window.location.href = constructURL({\n                    baseURL: startUrl,\n                    hash: {\n                      b64Params: jsonToBase64(params[0]),\n                      _pid: pid,\n                      _method: method\n                    }\n                  });\n                }, 50);\n                return _context15.abrupt(\"return\", {});\n\n              case 34:\n                if (!allowedInteractions.includes(ALLOWED_INTERACTIONS.POPUP)) {\n                  _context15.next = 38;\n                  break;\n                }\n\n                u = new URL(constructURL({\n                  baseURL: popupUrl,\n                  hash: {\n                    b64Params: jsonToBase64(params[0]),\n                    _pid: pid,\n                    _method: method\n                  }\n                }));\n                windowRef = window.open(u.toString(), \"_blank\", getPopupFeatures());\n                return _context15.abrupt(\"return\", awaitReq(pid, windowRef));\n\n              case 38:\n                _context15.next = 47;\n                break;\n\n              case 40:\n                if (!allowedInteractions.includes(ALLOWED_INTERACTIONS.POPUP)) {\n                  _context15.next = 44;\n                  break;\n                }\n\n                _u = new URL(constructURL({\n                  baseURL: popupUrl,\n                  hash: {\n                    b64Params: jsonToBase64(params[0]),\n                    _pid: pid,\n                    _method: method\n                  }\n                }));\n                _windowRef = window.open(_u.toString(), \"_blank\", getPopupFeatures());\n                return _context15.abrupt(\"return\", awaitReq(pid, _windowRef));\n\n              case 44:\n                if (!allowedInteractions.includes(ALLOWED_INTERACTIONS.REDIRECT)) {\n                  _context15.next = 47;\n                  break;\n                }\n\n                // give time for synchronous methods to complete before redirect\n                setTimeout(function () {\n                  window.location.href = constructURL({\n                    baseURL: startUrl,\n                    hash: {\n                      b64Params: jsonToBase64(params[0]),\n                      _pid: pid,\n                      _method: method\n                    }\n                  });\n                }, 50);\n                return _context15.abrupt(\"return\", null);\n\n              case 47:\n                throw new Error(\"no matching allowed interactions\");\n\n              case 48:\n              case \"end\":\n                return _context15.stop();\n            }\n          }\n        }, _callee15, this);\n      }));\n    }\n  }, {\n    key: \"_jrpcRequest\",\n    value: function _jrpcRequest(args) {\n      return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee16() {\n        var _this4 = this;\n\n        var method, params;\n        return _regeneratorRuntime.wrap(function _callee16$(_context16) {\n          while (1) {\n            switch (_context16.prev = _context16.next) {\n              case 0:\n                if (!(!args || typeof args !== \"object\" || Array.isArray(args))) {\n                  _context16.next = 2;\n                  break;\n                }\n\n                throw new Error(\"invalid request args\");\n\n              case 2:\n                method = args.method, params = args.params;\n\n                if (!(typeof method !== \"string\" || method.length === 0)) {\n                  _context16.next = 5;\n                  break;\n                }\n\n                throw new Error(\"invalid request method\");\n\n              case 5:\n                if (!(params === undefined || !Array.isArray(params))) {\n                  _context16.next = 7;\n                  break;\n                }\n\n                throw new Error(\"invalid request params\");\n\n              case 7:\n                if (params.length === 0) {\n                  params.push({});\n                }\n\n                return _context16.abrupt(\"return\", new Promise(function (resolve, reject) {\n                  _this4.provider._rpcRequest({\n                    method: method,\n                    params: params\n                  }, getRpcPromiseCallback(resolve, reject));\n                }));\n\n              case 9:\n              case \"end\":\n                return _context16.stop();\n            }\n          }\n        }, _callee16);\n      }));\n    }\n  }, {\n    key: \"_check3PCSupport\",\n    value: function _check3PCSupport() {\n      return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee17() {\n        return _regeneratorRuntime.wrap(function _callee17$(_context17) {\n          while (1) {\n            switch (_context17.prev = _context17.next) {\n              case 0:\n                return _context17.abrupt(\"return\", this._jrpcRequest({\n                  method: OPENLOGIN_METHOD.CHECK_3PC_SUPPORT,\n                  params: [{\n                    _originData: this.state.originData\n                  }]\n                }));\n\n              case 1:\n              case \"end\":\n                return _context17.stop();\n            }\n          }\n        }, _callee17, this);\n      }));\n    }\n  }, {\n    key: \"_setPIDData\",\n    value: function _setPIDData(pid, data) {\n      return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee18() {\n        return _regeneratorRuntime.wrap(function _callee18$(_context18) {\n          while (1) {\n            switch (_context18.prev = _context18.next) {\n              case 0:\n                _context18.next = 2;\n                return this.request({\n                  allowedInteractions: [ALLOWED_INTERACTIONS.JRPC],\n                  method: OPENLOGIN_METHOD.SET_PID_DATA,\n                  params: [{\n                    pid: pid,\n                    data: data[0]\n                  }]\n                });\n\n              case 2:\n              case \"end\":\n                return _context18.stop();\n            }\n          }\n        }, _callee18, this);\n      }));\n    }\n  }, {\n    key: \"_getData\",\n    value: function _getData() {\n      return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee19() {\n        return _regeneratorRuntime.wrap(function _callee19$(_context19) {\n          while (1) {\n            switch (_context19.prev = _context19.next) {\n              case 0:\n                return _context19.abrupt(\"return\", this.request({\n                  allowedInteractions: [ALLOWED_INTERACTIONS.JRPC],\n                  method: OPENLOGIN_METHOD.GET_DATA,\n                  params: [{}]\n                }));\n\n              case 1:\n              case \"end\":\n                return _context19.stop();\n            }\n          }\n        }, _callee19, this);\n      }));\n    }\n  }, {\n    key: \"_syncState\",\n    value: function _syncState(newState) {\n      var _this5 = this;\n\n      if (newState.store) {\n        if (typeof newState.store !== \"object\") {\n          throw new Error(\"expected store to be an object\");\n        }\n\n        Object.keys(newState.store).forEach(function (key) {\n          _this5.state.store.set(key, newState.store[key]);\n        });\n      }\n\n      var store = this.state.store;\n      this.state = Object.assign(Object.assign(Object.assign({}, this.state), newState), {\n        store: store\n      });\n    }\n  }, {\n    key: \"_modal\",\n    value: function _modal(params) {\n      return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee21() {\n        var _this6 = this;\n\n        return _regeneratorRuntime.wrap(function _callee21$(_context21) {\n          while (1) {\n            switch (_context21.prev = _context21.next) {\n              case 0:\n                return _context21.abrupt(\"return\", new Promise(function (resolve, reject) {\n                  _this6.modal._prompt(_this6.state.clientId, _this6.state.whiteLabel, _this6.state.loginConfig, function (chunk) {\n                    return __awaiter(_this6, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee20() {\n                      var selectedLoginResponse;\n                      return _regeneratorRuntime.wrap(function _callee20$(_context20) {\n                        while (1) {\n                          switch (_context20.prev = _context20.next) {\n                            case 0:\n                              if (!chunk.cancel) {\n                                _context20.next = 4;\n                                break;\n                              }\n\n                              reject(new Error(\"user canceled login\"));\n                              _context20.next = 14;\n                              break;\n\n                            case 4:\n                              _context20.prev = 4;\n                              _context20.next = 7;\n                              return this._selectedLogin(merge(params, chunk));\n\n                            case 7:\n                              selectedLoginResponse = _context20.sent;\n                              resolve(selectedLoginResponse);\n                              _context20.next = 14;\n                              break;\n\n                            case 11:\n                              _context20.prev = 11;\n                              _context20.t0 = _context20[\"catch\"](4);\n                              reject(_context20.t0);\n\n                            case 14:\n                            case \"end\":\n                              return _context20.stop();\n                          }\n                        }\n                      }, _callee20, this, [[4, 11]]);\n                    }));\n                  });\n                }));\n\n              case 1:\n              case \"end\":\n                return _context21.stop();\n            }\n          }\n        }, _callee21);\n      }));\n    }\n  }, {\n    key: \"_cleanup\",\n    value: function _cleanup() {\n      return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee22() {\n        return _regeneratorRuntime.wrap(function _callee22$(_context22) {\n          while (1) {\n            switch (_context22.prev = _context22.next) {\n              case 0:\n                _context22.next = 2;\n                return this.modal.cleanup();\n\n              case 2:\n                this.provider.cleanup();\n\n              case 3:\n              case \"end\":\n                return _context22.stop();\n            }\n          }\n        }, _callee22, this);\n      }));\n    }\n  }, {\n    key: \"encrypt\",\n    value: function encrypt(message, privateKey) {\n      return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee23() {\n        var privKey;\n        return _regeneratorRuntime.wrap(function _callee23$(_context23) {\n          while (1) {\n            switch (_context23.prev = _context23.next) {\n              case 0:\n                privKey = privateKey;\n\n                if (!privKey) {\n                  privKey = this.privKey;\n                } // validations\n\n\n                if (/^[0-9a-fA-f]{64}$/.exec(privKey)) {\n                  _context23.next = 8;\n                  break;\n                }\n\n                if (!(privKey === \"\" || privKey === undefined)) {\n                  _context23.next = 7;\n                  break;\n                }\n\n                throw new Error(\"private key cannot be empty\");\n\n              case 7:\n                throw new Error(\"invalid private key in encrypt\");\n\n              case 8:\n                return _context23.abrupt(\"return\", _encrypt(getPublic(Buffer.from(privKey, \"hex\")), message));\n\n              case 9:\n              case \"end\":\n                return _context23.stop();\n            }\n          }\n        }, _callee23, this);\n      }));\n    }\n  }, {\n    key: \"decrypt\",\n    value: function decrypt(ciphertext, privateKey) {\n      return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee24() {\n        var privKey;\n        return _regeneratorRuntime.wrap(function _callee24$(_context24) {\n          while (1) {\n            switch (_context24.prev = _context24.next) {\n              case 0:\n                privKey = privateKey;\n\n                if (!privKey) {\n                  privKey = this.privKey;\n                } // validations\n\n\n                if (/^[0-9a-fA-f]{64}$/.exec(privKey)) {\n                  _context24.next = 8;\n                  break;\n                }\n\n                if (!(privKey === \"\" || privKey === undefined)) {\n                  _context24.next = 7;\n                  break;\n                }\n\n                throw new Error(\"private key cannot be empty\");\n\n              case 7:\n                throw new Error(\"invalid private key in decrypt\");\n\n              case 8:\n                return _context24.abrupt(\"return\", _decrypt(Buffer.from(privKey, \"hex\"), ciphertext));\n\n              case 9:\n              case \"end\":\n                return _context24.stop();\n            }\n          }\n        }, _callee24, this);\n      }));\n    }\n  }, {\n    key: \"getUserInfo\",\n    value: function getUserInfo() {\n      return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee25() {\n        var storeData, userInfo;\n        return _regeneratorRuntime.wrap(function _callee25$(_context25) {\n          while (1) {\n            switch (_context25.prev = _context25.next) {\n              case 0:\n                if (!this.privKey) {\n                  _context25.next = 4;\n                  break;\n                }\n\n                storeData = this.state.store.getStore();\n                userInfo = {\n                  email: storeData.email || \"\",\n                  name: storeData.name || \"\",\n                  profileImage: storeData.profileImage || \"\",\n                  aggregateVerifier: storeData.aggregateVerifier || \"\",\n                  verifier: storeData.verifier || \"\",\n                  verifierId: storeData.verifierId || \"\",\n                  typeOfLogin: storeData.typeOfLogin || \"\"\n                };\n                return _context25.abrupt(\"return\", userInfo);\n\n              case 4:\n                throw new Error(\"user should be logged in to fetch userInfo\");\n\n              case 5:\n              case \"end\":\n                return _context25.stop();\n            }\n          }\n        }, _callee25, this);\n      }));\n    }\n  }]);\n\n  return OpenLogin;\n}();\n\nexport { ALLOWED_INTERACTIONS, LOGIN_PROVIDER, OPENLOGIN_METHOD, OPENLOGIN_NETWORK, OpenLoginStore, Provider, UX_MODE, awaitReq, constructURL, OpenLogin as default, documentReady, getHashQueryParams, getPopupFeatures, htmlToElement, localStorageAvailable, modalDOMElementID, preloadIframe, sessionStorageAvailable, storageAvailable, storeKey, whitelistUrl };","map":{"version":3,"sources":["../src/constants.ts","../../../node_modules/tslib/tslib.es6.js","../src/utils.ts","../src/Modal.ts","../src/MemoryStore.ts","../src/OpenLoginStore.ts","../src/Provider.ts","../src/OpenLogin.ts"],"names":[],"mappings":"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","sourcesContent":[null,"/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n",null,null,null,null,null,null]},"metadata":{},"sourceType":"module"}