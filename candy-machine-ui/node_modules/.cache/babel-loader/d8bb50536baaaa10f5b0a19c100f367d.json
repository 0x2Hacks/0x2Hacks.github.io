{"ast":null,"code":"\"use strict\";\n\nvar _regeneratorRuntime = require(\"/workspace/0x2Hacks.github.io/candy-machine-ui/node_modules/@babel/runtime/regenerator/index.js\");\n\nvar _asyncToGenerator = require(\"/workspace/0x2Hacks.github.io/candy-machine-ui/node_modules/@babel/runtime/helpers/asyncToGenerator.js\").default;\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar react_1 = require(\"react\");\n\nvar logger_1 = __importDefault(require(\"../logger\"));\n\nvar useUserInteraction = function useUserInteraction(_ref, state, dispatch) {\n  var wallet = _ref.wallet;\n  var refreshTimeoutId = state.refreshTimeoutId;\n  /**\n   * handle the user initiating an issuance request\n   */\n\n  var requestGatewayToken = (0, react_1.useCallback)( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            logger_1.default.debug('requestGatewayToken called');\n\n            if (!(!wallet || !wallet.publicKey)) {\n              _context.next = 4;\n              break;\n            }\n\n            logger_1.default.error('No wallet connected');\n            return _context.abrupt(\"return\");\n\n          case 4:\n            dispatch({\n              type: 'userInteraction_check_gatewayToken_status',\n              token: state.gatewayToken\n            });\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  })), [refreshTimeoutId, state.gatewayToken]);\n  return {\n    requestGatewayToken: requestGatewayToken\n  };\n};\n\nexports.default = useUserInteraction;","map":{"version":3,"sources":["/workspace/0x2Hacks.github.io/candy-machine-ui/node_modules/@civic/common-gateway-react/dist/esm/useHooks/useUserInteraction.js"],"names":["__importDefault","mod","__esModule","Object","defineProperty","exports","value","react_1","require","logger_1","useUserInteraction","state","dispatch","wallet","refreshTimeoutId","requestGatewayToken","useCallback","default","debug","publicKey","error","type","token","gatewayToken"],"mappings":"AAAA;;;;;;AACA,IAAIA,eAAe,GAAI,QAAQ,KAAKA,eAAd,IAAkC,UAAUC,GAAV,EAAe;AACnE,SAAQA,GAAG,IAAIA,GAAG,CAACC,UAAZ,GAA0BD,GAA1B,GAAgC;AAAE,eAAWA;AAAb,GAAvC;AACH,CAFD;;AAGAE,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;;AACA,IAAMC,OAAO,GAAGC,OAAO,CAAC,OAAD,CAAvB;;AACA,IAAMC,QAAQ,GAAGT,eAAe,CAACQ,OAAO,CAAC,WAAD,CAAR,CAAhC;;AACA,IAAME,kBAAkB,GAAG,SAArBA,kBAAqB,OAAaC,KAAb,EAAoBC,QAApB,EAAiC;AAAA,MAA9BC,MAA8B,QAA9BA,MAA8B;AACxD,MAAQC,gBAAR,GAA6BH,KAA7B,CAAQG,gBAAR;AACA;AACJ;AACA;;AACI,MAAMC,mBAAmB,GAAG,CAAC,GAAGR,OAAO,CAACS,WAAZ,yEAAyB;AAAA;AAAA;AAAA;AAAA;AACjDP,YAAAA,QAAQ,CAACQ,OAAT,CAAiBC,KAAjB,CAAuB,4BAAvB;;AADiD,kBAE7C,CAACL,MAAD,IAAW,CAACA,MAAM,CAACM,SAF0B;AAAA;AAAA;AAAA;;AAG7CV,YAAAA,QAAQ,CAACQ,OAAT,CAAiBG,KAAjB,CAAuB,qBAAvB;AAH6C;;AAAA;AAMjDR,YAAAA,QAAQ,CAAC;AAAES,cAAAA,IAAI,EAAE,2CAAR;AAAqDC,cAAAA,KAAK,EAAEX,KAAK,CAACY;AAAlE,aAAD,CAAR;;AANiD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAzB,IAOzB,CAACT,gBAAD,EAAmBH,KAAK,CAACY,YAAzB,CAPyB,CAA5B;AAQA,SAAO;AACHR,IAAAA,mBAAmB,EAAnBA;AADG,GAAP;AAGH,CAhBD;;AAiBAV,OAAO,CAACY,OAAR,GAAkBP,kBAAlB","sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst react_1 = require(\"react\");\nconst logger_1 = __importDefault(require(\"../logger\"));\nconst useUserInteraction = ({ wallet }, state, dispatch) => {\n    const { refreshTimeoutId } = state;\n    /**\n     * handle the user initiating an issuance request\n     */\n    const requestGatewayToken = (0, react_1.useCallback)(async () => {\n        logger_1.default.debug('requestGatewayToken called');\n        if (!wallet || !wallet.publicKey) {\n            logger_1.default.error('No wallet connected');\n            return;\n        }\n        dispatch({ type: 'userInteraction_check_gatewayToken_status', token: state.gatewayToken });\n    }, [refreshTimeoutId, state.gatewayToken]);\n    return {\n        requestGatewayToken,\n    };\n};\nexports.default = useUserInteraction;\n"]},"metadata":{},"sourceType":"script"}